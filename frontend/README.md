# 前端 - Web界面

AI日程系统的前端Web界面，提供用户交互和可视化功能。

## 📁 文件结构

```
frontend/
├── web/
│   ├── index.html    # 主页面
│   ├── app.js        # 前端逻辑
│   └── styles.css    # 样式
├── serve.py          # 开发服务器
└── README.md         # 本文档
```

## 🚀 快速启动

### 方式1：使用Python静态服务器（推荐）

```bash
# 在项目根目录
python frontend/serve.py
```

然后打开浏览器访问：http://127.0.0.1:3000

### 方式2：使用Python内置服务器

```bash
cd frontend/web
python -m http.server 3000
```

### 方式3：直接打开HTML文件

双击 `frontend/web/index.html` 在浏览器中打开（可能存在CORS问题）

## ⚙️ 前提条件

**确保后端API已启动：**

```bash
# 在另一个终端
conda activate project_ai_makes_plans
uvicorn backend.app.main:app --reload --host 127.0.0.1 --port 8000
```

## 🎯 功能特性

### 1. API健康检查
- 自动检测后端API连接状态
- 每30秒自动检查
- 状态指示器实时显示

### 2. 自然语言任务解析
- 输入框支持多行文本
- 一键解析转换为结构化任务
- 实时显示解析结果
- 显示置信度

### 3. 调度方案生成
- 可配置工作时间
- 可设置缓冲时间
- 展示已调度任务的时间安排
- 显示冲突信息
- 标注未能调度的任务

### 4. 示例功能
- 提供常用示例一键填入
- 快速体验系统功能

### 5. 用户友好
- 现代化UI设计
- 响应式布局（支持手机/平板）
- 加载动画
- Toast通知
- 错误提示

## 📖 使用说明

### 基本流程

1. **启动服务器**
   - 后端：`uvicorn backend.app.main:app --reload`
   - 前端：`python frontend/serve.py`

2. **访问页面**
   - 打开 http://127.0.0.1:3000

3. **创建任务**
   - 在输入框输入自然语言描述
   - 或点击示例按钮快速填入
   - 点击"解析任务"按钮

4. **查看解析结果**
   - 查看任务的详细信息
   - 包括标题、类型、时间、优先级等

5. **生成调度方案**
   - 配置工作时间和缓冲时间
   - 点击"生成调度方案"
   - 查看系统为你安排的时间

### 键盘快捷键

- `Ctrl + Enter` - 快速解析任务

## 🎨 界面预览

### 主要功能模块

1. **头部**
   - 标题和副标题
   - API连接状态指示器

2. **任务输入区**
   - 多行文本输入框
   - 解析按钮

3. **解析结果展示**
   - 卡片式布局
   - 清晰的字段展示
   - 优先级徽章
   - 标签显示

4. **调度配置**
   - 工作时间设置
   - 缓冲时间设置
   - 生成按钮

5. **调度结果展示**
   - 已调度任务（绿色边框）
   - 冲突任务（红色边框）
   - 未调度任务（黄色边框）
   - 调度说明

6. **示例区**
   - 预设示例按钮
   - 一键填入

## 🛠️ 技术栈

- **纯原生技术** - 无框架依赖
- **HTML5** - 语义化标签
- **CSS3** - 现代化样式、动画、响应式
- **JavaScript (ES6+)** - Fetch API、Async/Await
- **跨域支持** - CORS配置

## 🔧 开发指南

### API端点配置

在 `app.js` 中修改API地址：

```javascript
const API_BASE_URL = 'http://127.0.0.1:8000';
```

### 自定义样式

修改 `styles.css` 中的CSS变量：

```css
:root {
    --primary-color: #4f46e5;    /* 主色调 */
    --secondary-color: #06b6d4;  /* 次要色 */
    --success-color: #10b981;    /* 成功色 */
    /* ... */
}
```

## 📝 示例输入

系统支持的自然语言示例：

```
✅ 灵活任务：
- "明天下午做2小时报告"
- "写周报，大概需要1小时"
- "本周五之前完成项目文档"

✅ 固定任务：
- "下周一上午10点到11点开会"
- "明天下午2点在会议室A开产品评审会"

✅ 带优先级：
- "紧急：今天必须完成项目文档"
- "重要：准备下周的演讲材料"
```

## 🐛 故障排除

### 问题：API连接失败

**解决方案：**
1. 检查后端是否启动：访问 http://127.0.0.1:8000/health
2. 检查端口是否正确
3. 检查CORS配置

### 问题：页面样式错乱

**解决方案：**
1. 清除浏览器缓存
2. 检查CSS文件路径
3. 使用开发者工具检查错误

### 问题：解析失败

**解决方案：**
1. 检查.env文件中的API Key是否配置
2. 查看后端日志
3. 确认输入文本不为空

## 🔜 后续计划

- [ ] 任务列表视图
- [ ] 周/日历视图
- [ ] 任务拖拽功能
- [ ] 任务编辑功能
- [ ] 任务完成标记
- [ ] 数据持久化
- [ ] 用户偏好设置页面
- [ ] 导入/导出ICS功能

## 📚 相关文档

- 后端API文档: http://127.0.0.1:8000/docs
- 项目主文档: `../README.md`
- 后端文档: `../backend/README.md`


